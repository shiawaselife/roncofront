import{r as p,v as y,k as z,d as a,b as e,t as o,aa as B,F as b,n as h,M as m,y as S,o as r,K as v}from"./index-5fc67d8a.js";import{a as N}from"./CodeExecutionApi-1b55c707.js";const $={class:"min-h-screen bg-gray-50 py-6 px-4"},j={class:"max-w-7xl mx-auto"},F={class:"mb-8"},L={class:"bg-white rounded-lg shadow p-4"},M={class:"flex justify-between mb-2"},I={class:"w-full bg-gray-200 rounded-full h-2.5"},V={class:"relative w-full md:w-96 mb-8"},q={class:"flex items-center justify-between"},A={class:"block truncate"},D={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},E=["onClick"],K={class:"flex items-center justify-between"},O={class:"font-normal block truncate"},R={class:"text-sm text-gray-500"},T={key:0,class:"bg-white rounded-lg shadow overflow-hidden"},G={class:"min-w-full"},H={class:"divide-y divide-gray-200"},J=["onClick"],Q={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},U={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={class:"px-6 py-4 whitespace-nowrap text-sm"},te={__name:"CodeProblems",setup(Y){const f=S(),d=p(!1),n=p(null),i=p([{id:1,title:"입력과 출력",problems:[{id:1,number:8,title:"일반맵 출력하기1",status:"완료",result:"success"},{id:2,number:11,title:"수식 출력하기2",status:"미시도"}]},{id:2,title:"조건문",problems:[{id:3,number:13,title:"N 2번 출력하기",status:"진행중"}]},{id:3,title:"반복문",problems:[]},{id:4,title:"중첩반복문",problems:[]},{id:5,title:"1차원 배열",problems:[]},{id:6,title:"함수",problems:[]},{id:7,title:"다차원 배열",problems:[]},{id:8,title:"문자열",problems:[]}]),_=l=>{n.value=l,d.value=!1},g=y(()=>i.value.reduce((l,s)=>l+s.problems.length,0)),x=y(()=>i.value.reduce((l,s)=>l+s.problems.filter(t=>t.status==="완료").length,0)),w=l=>i.value.find(t=>t.id===l).problems.filter(t=>t.status==="완료").length,k=l=>{console.log(l,n.value),f.push({path:"/code",query:{category:n.value.id,problem:l}})},C=l=>{switch(l){case"완료":return"bg-green-100 text-green-800";case"진행중":return"bg-yellow-100 text-yellow-800";case"미시도":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};async function P(){try{const s=(await N()).reduce((t,u)=>{const c=Number(u.categoryId);return t[c]||(t[c]=[]),t[c].push(u),t},{});i.value=i.value.map(t=>({...t,problems:s[t.id]||[]}))}catch(l){console.error("문제 목록 로드 실패:",l)}}return z(()=>{P()}),(l,s)=>(r(),a("div",$,[e("div",j,[e("div",F,[s[2]||(s[2]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-4"},"C/Python 문제 모음",-1)),e("div",L,[e("div",M,[s[1]||(s[1]=e("span",{class:"font-medium"},"전체 진행률",-1)),e("span",null,o(x.value)+"/"+o(g.value)+"문제",1)]),e("div",I,[e("div",{class:"bg-emerald-600 h-2.5 rounded-full",style:B(`width: ${x.value/g.value*100}%`)},null,4)])])]),e("div",V,[e("button",{onClick:s[0]||(s[0]=t=>d.value=!d.value),class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-left shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("div",q,[e("span",A,o(n.value?n.value.title:"카테고리 선택"),1),s[3]||(s[3]=e("span",{class:"pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),d.value?(r(),a("div",D,[(r(!0),a(b,null,h(i.value,t=>(r(),a("div",{key:t.id,onClick:u=>_(t),class:"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-blue-50"},[e("div",K,[e("span",O,o(t.title),1),e("span",R," ("+o(w(t.id))+"/"+o(t.problems.length)+") ",1)])],8,E))),128))])):m("",!0)]),n.value?(r(),a("div",T,[e("table",G,[s[4]||(s[4]=e("thead",{class:"bg-gray-50 border-b"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"번호"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"제목"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"결과"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"상태")])],-1)),e("tbody",H,[(r(!0),a(b,null,h(n.value.problems,t=>(r(),a("tr",{key:t.id,onClick:u=>k(t.id),class:"hover:bg-gray-50 cursor-pointer"},[e("td",Q,o(t.id),1),e("td",U,o(t.title),1),e("td",W,[t.result?(r(),a("span",{key:0,class:v(t.result==="success"?"text-green-600":"text-red-600")},o(t.result==="success"?"성공":"실패"),3)):m("",!0)]),e("td",X,[e("span",{class:v(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",C(t.status)])},o(t.status),3)])],8,J))),128))])])])):m("",!0)])]))}};export{te as default};
