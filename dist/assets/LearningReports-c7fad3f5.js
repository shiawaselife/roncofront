import{r as d,n as j,c as C,w as c,_ as V,x as p,o as l,a as f,b as e,d as r,u as x,a5 as F,E as B,D,p as h,t as n,a9 as S,F as v,R as M,I as u,M as R,O as _,j as $}from"./index-bd052fb4.js";import{_ as z}from"./Modal-7f521da1.js";const I={class:"max-w-7xl mx-auto p-6 space-y-8"},U={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 flex justify-between items-center shadow-sm"},L={class:"flex items-center space-x-3"},N={class:"w-8 h-8 text-blue-600",viewBox:"0 0 24 24"},E=["d"],H=e("h1",{class:"text-2xl font-bold text-gray-800"},"학습 보고서",-1),O={class:"w-5 h-5 mr-2",viewBox:"0 0 24 24"},P=["d"],T={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},K={class:"p-6 border-b border-gray-100"},q={class:"flex justify-between items-start"},A={class:"text-lg font-semibold text-gray-800"},G={class:"text-sm text-gray-600 mt-1"},J={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},Q={class:"p-6"},W={class:"space-y-4"},X={class:"flex justify-between items-center mb-2"},Y=e("span",{class:"text-sm font-medium text-gray-700"},"진도율",-1),Z={class:"text-sm font-medium text-blue-600"},ee={class:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},te={class:"text-gray-600 text-sm leading-relaxed"},se=e("div",{class:"flex items-center space-x-2"},[e("svg",{class:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"})]),e("span",null,"새 학습 보고서 작성")],-1),oe=["onSubmit"],ae={class:"space-y-2"},le=e("label",{class:"block text-sm font-medium text-gray-700"},"학생",-1),re=e("option",{value:""},"학생을 선택하세요",-1),ne=["value"],ie={class:"space-y-2"},de=e("label",{class:"block text-sm font-medium text-gray-700"},"과목",-1),ce={class:"space-y-2"},ue=e("label",{class:"block text-sm font-medium text-gray-700"},"진도율 (%)",-1),pe={class:"space-y-2"},_e=e("label",{class:"block text-sm font-medium text-gray-700"},"내용",-1),ge={class:"flex justify-end space-x-3 pt-4"},me=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150"}," 저장 ",-1),he={__name:"LearningReports",setup(be){const i=d(!1),g=d([]),m=d([]),a=d({studentId:"",subject:"",progress:0,content:""}),y=s=>new Date(s).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}),w=async()=>{try{await p.post("/api/learning-reports",a.value),i.value=!1,b()}catch(s){console.error("Failed to create report:",s)}},b=async()=>{try{const s=await p.get("/api/learning-reports");m.value=s.data}catch(s){console.error("Failed to load reports:",s)}},k=async()=>{try{const s=await p.get("/api/students");g.value=s.data}catch(s){console.error("Failed to load students:",s)}};return j(async()=>{try{await Promise.all([k(),b()])}catch(s){console.error("Failed to load initial data:",s)}}),(s,o)=>(l(),C(V,null,{default:c(()=>[f($,null,{default:c(()=>[e("div",I,[e("div",U,[e("div",L,[(l(),r("svg",N,[e("path",{fill:"currentColor",d:x(F)},null,8,E)])),H]),e("button",{onClick:o[0]||(o[0]=t=>i.value=!0),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150 shadow-sm"},[(l(),r("svg",O,[e("path",{fill:"currentColor",d:x(B)},null,8,P)])),D(" 새 보고서 작성 ")])]),e("div",T,[(l(!0),r(v,null,h(m.value,t=>(l(),r("div",{key:t.id,class:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden"},[e("div",K,[e("div",q,[e("div",null,[e("h3",A,n(t.student.name),1),e("p",G,n(t.subject),1)]),e("span",J,n(y(t.reportDate)),1)])]),e("div",Q,[e("div",W,[e("div",null,[e("div",X,[Y,e("span",Z,n(t.progress)+"%",1)]),e("div",ee,[e("div",{class:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:S({width:t.progress+"%"})},null,4)])]),e("p",te,n(t.content),1)])])]))),128))]),f(z,{show:i.value,onClose:o[6]||(o[6]=t=>i.value=!1)},{title:c(()=>[se]),content:c(()=>[e("form",{onSubmit:M(w,["prevent"]),class:"space-y-6"},[e("div",ae,[le,u(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.studentId=t),class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"},[re,(l(!0),r(v,null,h(g.value,t=>(l(),r("option",{key:t.id,value:t.id},n(t.name),9,ne))),128))],512),[[R,a.value.studentId]])]),e("div",ie,[de,u(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.subject=t),type:"text",class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"과목명을 입력하세요"},null,512),[[_,a.value.subject]])]),e("div",ce,[ue,u(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>a.value.progress=t),type:"number",min:"0",max:"100",class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"},null,512),[[_,a.value.progress]])]),e("div",pe,[_e,u(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=t=>a.value.content=t),rows:"4",class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"학습 내용을 입력하세요"},null,512),[[_,a.value.content]])]),e("div",ge,[e("button",{type:"button",onClick:o[5]||(o[5]=t=>i.value=!1),class:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-150"}," 취소 "),me])],40,oe)]),_:1},8,["show"])])]),_:1})]),_:1}))}};export{he as default};
