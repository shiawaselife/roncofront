import{j as de,r as c,v as H,x as z,k as ue,c as ce,w as W,L as me,y as pe,s as f,o as a,a as ge,b as e,C as N,E as m,K as V,d,n as S,t as u,F as w,G as v,J as y,I as F,_ as fe}from"./index-5d7e744c.js";const xe={class:"bg-white rounded-xl shadow-md overflow-hidden"},ve={class:"px-6 py-4 bg-gradient-to-r from-indigo-600 to-blue-600 flex justify-between items-center"},ye={class:"p-4 bg-gray-50 border-b border-gray-200"},be={class:"flex flex-wrap gap-4"},we={class:"w-full md:w-64"},he={class:"flex justify-between items-center mb-1"},_e=["value"],ke={class:"w-full md:w-64"},Ce={class:"w-full md:w-64"},$e={class:"overflow-x-auto"},Me={class:"min-w-full divide-y divide-gray-200"},Ie={class:"bg-white divide-y divide-gray-200"},Te={key:0},Ee={key:1},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Le={class:"px-6 py-4 whitespace-nowrap"},Se={class:"text-sm font-medium text-gray-900"},Ve={class:"text-sm text-gray-500"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},He={class:"px-6 py-4 whitespace-nowrap text-sm space-x-2"},Ne=["onClick"],Pe=["onClick"],Re=["onClick"],Qe=["onClick"],De={key:0},Be={colspan:"6",class:"px-6 py-4"},ze={class:"bg-gray-50 rounded-lg p-4"},We={class:"flex justify-between items-center mb-3"},Fe={class:"text-lg font-medium text-gray-900"},Je={class:"overflow-x-auto bg-white rounded-lg border border-gray-200"},Ye={class:"min-w-full divide-y divide-gray-200"},Ge={class:"bg-white divide-y divide-gray-200"},Ke={key:0},Xe={key:1},Ze={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500"},qe={class:"px-4 py-3 text-sm text-gray-900 max-w-md truncate"},et={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500"},tt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500"},st={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 space-x-2"},ot=["onClick"],nt=["onClick"],lt={class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between"},it={class:"text-sm text-gray-700"},rt={class:"font-medium"},at={class:"flex-1 flex justify-end"},dt={class:"relative z-0 inline-flex shadow-sm -space-x-px","aria-label":"Pagination"},ut=["disabled"],ct={class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},mt=["disabled"],pt={key:0,class:"fixed inset-0 overflow-y-auto z-50"},gt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ft={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},xt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},vt={class:"sm:flex sm:items-start"},yt={class:"w-full"},bt={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},wt={class:"space-y-4"},ht=["value"],_t={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},kt={key:1,class:"fixed inset-0 overflow-y-auto z-50"},Ct={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},$t={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},Mt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},It={class:"sm:flex sm:items-start"},Tt={class:"w-full"},Et={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},Ut={class:"space-y-4"},Lt={key:0},St=["checked","onChange"],Vt=["onUpdate:modelValue"],Ot=["onClick"],jt={key:1},At={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ht={key:2,class:"fixed inset-0 overflow-y-auto z-50"},Nt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Pt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Rt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Qt={class:"sm:flex sm:items-start"},Dt={class:"w-full"},Bt={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},zt={class:"space-y-4"},Wt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},x="/api",P=10,Ft={__name:"TestManagement",setup(Jt){const J=pe(),O=c(!0),R=c([]),h=c([]),r=c(null),_=c(""),k=c(""),C=c(""),g=c(1),$=c(!1),l=c({id:null,title:"",description:"",categoryId:null,durationMinutes:60}),j=c(!1),M=c([]),I=c(!1),n=c({id:null,testId:null,content:"",type:"MULTIPLE_CHOICE",points:10,options:[],correctAnswer:""}),T=H(()=>{let s=R.value;if(_.value&&(s=s.filter(t=>t.categoryId===Number(_.value))),k.value)switch(k.value){case"short":s=s.filter(t=>t.duration<=30*60);break;case"medium":s=s.filter(t=>t.duration>30*60&&t.duration<=60*60);break;case"long":s=s.filter(t=>t.duration>60*60);break}if(C.value){const t=C.value.toLowerCase();s=s.filter(o=>o.title.toLowerCase().includes(t)||o.description.toLowerCase().includes(t))}return s}),Y=H(()=>{const s=(g.value-1)*P,t=s+P;return T.value.slice(s,t)}),b=H(()=>Math.ceil(T.value.length/P)||1),G=s=>{const t=Math.floor(s/3600),o=Math.floor(s%3600/60);return t>0?`${t}시간 ${o}분`:`${o}분`},K=(s,t)=>s?s.length<=t?s:s.slice(0,t)+"...":"",X=s=>{switch(s){case"MULTIPLE_CHOICE":return"객관식";case"SHORT_ANSWER":return"주관식";case"ESSAY":return"서술형";default:return s}},Q=async()=>{try{const s=await f.get(`${x}/tests/categories`);h.value=s.data}catch(s){console.error("카테고리 로드 실패:",s),alert("카테고리 정보를 불러오는데 실패했습니다.")}},E=async()=>{O.value=!0;try{const s=await f.get(`${x}/tests`);R.value=s.data}catch(s){console.error("시험 로드 실패:",s),alert("시험 정보를 불러오는데 실패했습니다.")}finally{O.value=!1}},Z=async()=>{try{if(!l.value.title){alert("시험 제목을 입력해주세요.");return}if(!l.value.categoryId){alert("카테고리를 선택해주세요.");return}if(!l.value.durationMinutes||l.value.durationMinutes<=0){alert("유효한 시험 시간을 입력해주세요.");return}const s={id:l.value.id,title:l.value.title,description:l.value.description,duration:l.value.durationMinutes*60,category:{id:l.value.categoryId},questions:[]};let t;l.value.id?t=await f.put(`${x}/tests/${l.value.id}`,s):t=await f.post(`${x}/tests`,s),$.value=!1,await E(),alert(l.value.id?"시험이 수정되었습니다.":"새 시험이 추가되었습니다.")}catch(s){console.error("시험 저장 실패:",s),alert("시험을 저장하는데 실패했습니다.")}},q=async s=>{if(confirm("정말로 이 시험을 삭제하시겠습니까? 관련된 모든 문제와 제출 기록이 삭제됩니다."))try{await f.delete(`${x}/tests/${s}`),await E(),r.value&&r.value.id===s&&(r.value=null,M.value=[]),alert("시험이 삭제되었습니다.")}catch(t){console.error("시험 삭제 실패:",t),alert("시험을 삭제하는데 실패했습니다.")}},A=async s=>{j.value=!0;try{const t=await f.get(`${x}/tests/${s}/questions`);M.value=t.data}catch(t){console.error("문제 로드 실패:",t),alert("문제 정보를 불러오는데 실패했습니다.")}finally{j.value=!1}},ee=async()=>{try{if(!n.value.content){alert("문제 내용을 입력해주세요.");return}if(n.value.type==="MULTIPLE_CHOICE"){if(n.value.options=n.value.options.filter(i=>i.content.trim()!==""),n.value.options.length<2){alert("객관식 문제는 최소 2개의 선택지가 필요합니다.");return}if(!n.value.options.some(i=>i.isCorrect)){alert("정답인 선택지를 하나 이상 지정해주세요.");return}}if(n.value.type==="SHORT_ANSWER"&&!n.value.correctAnswer){alert("주관식 문제의 정답을 입력해주세요.");return}const s={...n.value,testId:r.value.id};let t;n.value.id?t=await f.put(`${x}/tests/${r.value.id}/questions/${n.value.id}`,s):t=await f.post(`${x}/tests/${r.value.id}/questions`,s),I.value=!1,await A(r.value.id),await E(),alert(n.value.id?"문제가 수정되었습니다.":"새 문제가 추가되었습니다.")}catch(s){console.error("문제 저장 실패:",s),s.response&&s.response.status===500&&s.response.data&&s.response.data.message&&s.response.data.message.includes("foreign key constraint")?alert("이 문제는 이미 답변이 제출된 상태입니다. 옵션을 삭제할 수 없습니다."):alert("문제를 저장하는데 실패했습니다.")}},te=async s=>{if(confirm("정말로 이 문제를 삭제하시겠습니까?"))try{await f.delete(`${x}/tests/${r.value.id}/questions/${s}`),await A(r.value.id),await E(),alert("문제가 삭제되었습니다.")}catch(t){console.error("문제 삭제 실패:",t),alert("문제를 삭제하는데 실패했습니다.")}},D=s=>{s?l.value={id:s.id,title:s.title,description:s.description,categoryId:s.categoryId,durationMinutes:Math.floor(s.duration/60)}:l.value={id:null,title:"",description:"",categoryId:h.value.length>0?h.value[0].id:null,durationMinutes:60},$.value=!0},B=s=>{if(!r.value){alert("먼저 시험을 선택해주세요.");return}s?(n.value=JSON.parse(JSON.stringify(s)),s.hasAnswers&&alert("주의: 이 문제는 이미 학생들이 답변한 문제입니다. 수정 시 기존 답변에 영향을 줄 수 있습니다.")):n.value={id:null,testId:r.value.id,content:"",type:"MULTIPLE_CHOICE",points:10,options:[{id:null,content:"",isCorrect:!0},{id:null,content:"",isCorrect:!1}],correctAnswer:""},I.value=!0},se=()=>{n.value.options.push({id:null,content:"",isCorrect:!1})},oe=s=>{n.value.options.splice(s,1)},ne=s=>{n.value.options.forEach((t,o)=>{t.isCorrect=o===s})},le=async s=>{r.value&&r.value.id===s.id?(r.value=null,M.value=[]):(r.value=s,await A(s.id))},U=c(!1),p=c({id:null,name:"",description:""}),ie=s=>{s?p.value={...s}:p.value={id:null,name:"",description:""},U.value=!0},re=async()=>{try{if(!p.value.name){alert("카테고리 이름을 입력해주세요.");return}let s;p.value.id?s=await f.put(`${x}/test-categories/${p.value.id}`,p.value):s=await f.post(`${x}/test-categories`,p.value),U.value=!1,await Q(),alert(p.value.id?"카테고리가 수정되었습니다.":"새 카테고리가 추가되었습니다.")}catch(s){console.error("카테고리 저장 실패:",s),s.response&&s.response.data&&s.response.data.message?alert(`오류: ${s.response.data.message}`):alert("카테고리를 저장하는데 실패했습니다.")}},ae=s=>{J.push(`/test-results?testId=${s}`)};return z([_,k,C],()=>{g.value=1}),z(T,()=>{g.value>b.value&&b.value>0&&(g.value=b.value)}),ue(async()=>{await Q(),await E()}),(s,t)=>(a(),ce(me,null,{default:W(()=>[ge(fe,null,{default:W(()=>[e("div",xe,[e("div",ve,[t[24]||(t[24]=e("h2",{class:"text-xl font-bold text-white"},"시험 관리",-1)),e("button",{onClick:t[0]||(t[0]=o=>D(null)),class:"bg-white text-indigo-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-50 transition duration-200"}," 새 시험 추가 ")]),e("div",ye,[e("div",be,[e("div",we,[e("div",he,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700"},"카테고리",-1)),e("button",{onClick:t[1]||(t[1]=o=>ie(null)),class:"text-xs text-indigo-600 hover:text-indigo-800 font-medium flex items-center"},t[25]||(t[25]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),N(" 카테고리 추가 ")]))]),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>_.value=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},[t[27]||(t[27]=e("option",{value:""},"전체 카테고리",-1)),(a(!0),d(w,null,S(h.value,o=>(a(),d("option",{key:o.id,value:o.id},u(o.name),9,_e))),128))],512),[[V,_.value]])]),e("div",ke,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"기간",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>k.value=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[28]||(t[28]=[e("option",{value:""},"모든 기간",-1),e("option",{value:"short"},"30분 이하",-1),e("option",{value:"medium"},"30분 ~ 1시간",-1),e("option",{value:"long"},"1시간 이상",-1)]),512),[[V,k.value]])]),e("div",Ce,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"검색",-1)),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>C.value=o),type:"text",placeholder:"시험 제목 검색",class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,C.value]])])])]),e("div",$e,[e("table",Me,[t[36]||(t[36]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"제목"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"카테고리"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"시간"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"문제 수"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"작업")])],-1)),e("tbody",Ie,[O.value?(a(),d("tr",Te,t[31]||(t[31]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500"},"로딩 중...",-1)]))):T.value.length===0?(a(),d("tr",Ee,t[32]||(t[32]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-sm text-gray-500"},"시험이 없습니다.",-1)]))):y("",!0),(a(!0),d(w,null,S(Y.value,o=>(a(),d(w,{key:o.id},[e("tr",{class:F(["hover:bg-gray-50",{"bg-blue-50":r.value&&r.value.id===o.id}])},[e("td",Ue,u(o.id),1),e("td",Le,[e("div",Se,u(o.title),1),e("div",Ve,u(K(o.description,50)),1)]),e("td",Oe,u(o.categoryName),1),e("td",je,u(G(o.duration)),1),e("td",Ae,u(o.questionCount)+"개",1),e("td",He,[e("button",{onClick:i=>D(o),class:"text-indigo-600 hover:text-indigo-900"}," 수정 ",8,Ne),e("button",{onClick:i=>le(o),class:"text-blue-600 hover:text-blue-900"},u(r.value&&r.value.id===o.id?"문제 숨기기":"문제 관리"),9,Pe),e("button",{onClick:i=>ae(o.id),class:"text-green-600 hover:text-green-900"}," 결과 보기 ",8,Re),e("button",{onClick:i=>q(o.id),class:"text-red-600 hover:text-red-900"}," 삭제 ",8,Qe)])],2),r.value&&r.value.id===o.id?(a(),d("tr",De,[e("td",Be,[e("div",ze,[e("div",We,[e("h3",Fe,u(o.title)+" - 문제 목록",1),e("button",{onClick:t[5]||(t[5]=i=>B(null)),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," 새 문제 추가 ")]),e("div",Je,[e("table",Ye,[t[35]||(t[35]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"문제 내용"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"유형"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"배점"),e("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"작업")])],-1)),e("tbody",Ge,[j.value?(a(),d("tr",Ke,t[33]||(t[33]=[e("td",{colspan:"5",class:"px-4 py-3 text-center text-sm text-gray-500"},"문제 로딩 중...",-1)]))):M.value.length===0?(a(),d("tr",Xe,t[34]||(t[34]=[e("td",{colspan:"5",class:"px-4 py-3 text-center text-sm text-gray-500"},"등록된 문제가 없습니다.",-1)]))):y("",!0),(a(!0),d(w,null,S(M.value,i=>(a(),d("tr",{key:i.id,class:"hover:bg-gray-50"},[e("td",Ze,u(i.id),1),e("td",qe,u(i.content),1),e("td",et,[e("span",{class:F(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-green-100 text-green-800":i.type==="MULTIPLE_CHOICE","bg-blue-100 text-blue-800":i.type==="SHORT_ANSWER","bg-purple-100 text-purple-800":i.type==="ESSAY"}])},u(X(i.type)),3)]),e("td",tt,u(i.points)+"점",1),e("td",st,[e("button",{onClick:L=>B(i),class:"text-indigo-600 hover:text-indigo-900"}," 수정 ",8,ot),e("button",{onClick:L=>te(i.id),class:"text-red-600 hover:text-red-900"}," 삭제 ",8,nt)])]))),128))])])])])])])):y("",!0)],64))),128))])])]),e("div",lt,[e("div",it,[t[37]||(t[37]=N(" 총 ")),e("span",rt,u(T.value.length),1),t[38]||(t[38]=N(" 시험 "))]),e("div",at,[e("nav",dt,[e("button",{onClick:t[6]||(t[6]=o=>g.value>1?g.value--:null),disabled:g.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," 이전 ",8,ut),e("span",ct,u(g.value)+" / "+u(b.value),1),e("button",{onClick:t[7]||(t[7]=o=>g.value<b.value?g.value++:null),disabled:g.value===b.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," 다음 ",8,mt)])])])]),$.value?(a(),d("div",pt,[e("div",gt,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[8]||(t[8]=o=>$.value=!1)}),e("div",ft,[e("div",xt,[e("div",vt,[e("div",yt,[e("h3",bt,u(l.value.id?"시험 수정":"새 시험 추가"),1),e("div",wt,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"제목",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>l.value.title=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,l.value.title]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"설명",-1)),m(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.value.description=o),rows:"3",class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,l.value.description]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"카테고리",-1)),m(e("select",{"onUpdate:modelValue":t[11]||(t[11]=o=>l.value.categoryId=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},[(a(!0),d(w,null,S(h.value,o=>(a(),d("option",{key:o.id,value:o.id},u(o.name),9,ht))),128))],512),[[V,l.value.categoryId]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"시험 시간 (분)",-1)),m(e("input",{type:"number","onUpdate:modelValue":t[12]||(t[12]=o=>l.value.durationMinutes=o),min:"1",class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,l.value.durationMinutes,void 0,{number:!0}]])])])])])]),e("div",_t,[e("button",{onClick:Z,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," 저장 "),e("button",{onClick:t[13]||(t[13]=o=>$.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," 취소 ")])])])])):y("",!0),I.value?(a(),d("div",kt,[e("div",Ct,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[14]||(t[14]=o=>I.value=!1)}),e("div",$t,[e("div",Mt,[e("div",It,[e("div",Tt,[e("h3",Et,u(n.value.id?"문제 수정":"새 문제 추가"),1),e("div",Ut,[e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"문제 내용",-1)),m(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=o=>n.value.content=o),rows:"3",class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,n.value.content]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"유형",-1)),m(e("select",{"onUpdate:modelValue":t[16]||(t[16]=o=>n.value.type=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},t[44]||(t[44]=[e("option",{value:"MULTIPLE_CHOICE"},"객관식",-1),e("option",{value:"SHORT_ANSWER"},"주관식",-1),e("option",{value:"ESSAY"},"서술형",-1)]),512),[[V,n.value.type]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"배점",-1)),m(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=o=>n.value.points=o),min:"1",max:"100",class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,n.value.points,void 0,{number:!0}]])]),n.value.type==="MULTIPLE_CHOICE"?(a(),d("div",Lt,[e("div",{class:"flex justify-between items-center mb-2"},[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700"},"선택지",-1)),e("button",{onClick:se,type:"button",class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," 선택지 추가 ")]),(a(!0),d(w,null,S(n.value.options,(o,i)=>(a(),d("div",{key:i,class:"flex items-center space-x-2 mb-2"},[e("input",{type:"radio",name:"correct-option",checked:o.isCorrect,onChange:L=>ne(i),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"},null,40,St),m(e("input",{type:"text","onUpdate:modelValue":L=>o.content=L,class:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,8,Vt),[[v,o.content]]),e("button",{onClick:L=>oe(i),class:"text-red-600 hover:text-red-900"},t[48]||(t[48]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ot)]))),128))])):y("",!0),n.value.type==="SHORT_ANSWER"?(a(),d("div",jt,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"정답",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=o=>n.value.correctAnswer=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,n.value.correctAnswer]])])):y("",!0)])])])]),e("div",At,[e("button",{onClick:ee,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," 저장 "),e("button",{onClick:t[19]||(t[19]=o=>I.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," 취소 ")])])])])):y("",!0),U.value?(a(),d("div",Ht,[e("div",Nt,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[20]||(t[20]=o=>U.value=!1)}),e("div",Pt,[e("div",Rt,[e("div",Qt,[e("div",Dt,[e("h3",Bt,u(p.value.id?"카테고리 수정":"새 카테고리 추가"),1),e("div",zt,[e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"이름",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[21]||(t[21]=o=>p.value.name=o),class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,p.value.name]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"설명",-1)),m(e("textarea",{"onUpdate:modelValue":t[22]||(t[22]=o=>p.value.description=o),rows:"3",class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[v,p.value.description]])])])])])]),e("div",Wt,[e("button",{onClick:re,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"}," 저장 "),e("button",{onClick:t[23]||(t[23]=o=>U.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," 취소 ")])])])])):y("",!0)]),_:1})]),_:1}))}},Gt=de(Ft,[["__scopeId","data-v-99d88ddd"]]);export{Gt as default};
