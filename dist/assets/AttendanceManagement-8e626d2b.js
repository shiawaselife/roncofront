import{j as Xe,p as Ze,r as u,k as et,q as tt,s as f,v as b,x as Ce,c as st,w as Te,L as nt,y as ot,o,a as at,b as e,d as l,u as T,z as lt,B as rt,C as E,D as ut,E as it,G as dt,H as x,I as V,J as ct,n as h,t as r,F as _,K as I,M as g,N as W,O as vt,_ as mt,P as i}from"./index-5fc67d8a.js";const gt={class:"max-w-7xl mx-auto space-y-6"},ft={class:"flex items-center justify-between"},bt={class:"flex items-center space-x-3"},pt={class:"w-8 h-8 text-blue-600",viewBox:"0 0 24 24"},yt=["d"],xt={class:"flex space-x-4"},ht={class:"w-5 h-5 mr-2",viewBox:"0 0 24 24"},_t=["d"],wt={class:"w-5 h-5 mr-2",viewBox:"0 0 24 24"},kt=["d"],Ct={class:"w-5 h-5 mr-2",viewBox:"0 0 24 24"},Tt=["d"],Mt={class:"space-y-6"},$t={class:"bg-white rounded-xl shadow-sm"},At={class:"p-4 border-b border-gray-100"},Dt={class:"flex items-center justify-between"},jt={class:"flex items-center space-x-2"},St={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},Nt=["d"],Pt={class:"flex items-center space-x-4"},Lt={class:"relative"},Bt={class:"flex items-center space-x-2 cursor-pointer"},Et={class:"p-4"},Vt={class:"grid grid-cols-2 gap-4"},It={class:"space-y-3"},Yt={class:"flex justify-between items-center h-full"},Ut={class:"flex flex-col justify-between h-full"},Ht={class:"font-semibold text-gray-800"},Rt=["onClick"],Ot={class:"text-xs text-gray-500 mt-1"},zt=["onClick"],Ft={key:0,class:"flex justify-center gap-2 mt-4"},Wt=["onClick"],qt={key:1,class:"text-center py-4 text-gray-500"},Gt={class:"space-y-3"},Jt={class:"flex justify-between items-center h-full"},Kt={class:"flex flex-col justify-between h-full"},Qt={class:"font-semibold text-gray-800"},Xt=["onClick"],Zt={key:0,class:"ml-2"},es={class:"flex items-center space-x-2"},ts={class:"flex items-center space-x-2"},ss=["onClick"],ns=["value"],os=["onClick"],as=["onClick"],ls={key:0,class:"flex justify-center gap-2 mt-4"},rs=["onClick"],us={key:1,class:"text-center py-4 text-gray-500"},is={class:"bg-white rounded-xl shadow-sm"},ds={class:"p-4 border-b border-gray-100"},cs={class:"flex items-center space-x-2"},vs={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},ms=["d"],gs={class:"p-4"},fs={class:"flex space-x-4 mb-4"},bs={class:"space-y-3"},ps={class:"flex justify-between items-center"},ys={class:"font-semibold text-gray-800"},xs={class:"text-sm text-gray-600"},hs={class:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm"},_s={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},ws={class:"bg-white p-6 rounded-lg shadow-xl w-96"},ks={class:"text-xl font-semibold mb-4"},Cs={key:0,class:"text-gray-600 mb-4"},Ts={class:"space-y-3"},Ms={key:1,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},$s={class:"bg-white p-6 rounded-lg shadow-xl w-96"},As={class:"text-xl font-semibold mb-4"},Ds={key:0,class:"text-gray-600 mb-4"},js={key:1,class:"mb-4"},Ss=["value"],Ns={class:"space-y-4"},Ps={key:2,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},Ls={class:"bg-white p-6 rounded-lg shadow-xl w-96"},Bs={class:"text-gray-600 mb-4"},Es={class:"space-y-4"},Vs={class:"text-sm text-gray-600"},Is={class:"text-sm text-gray-600"},Ys={key:3,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},Us={class:"bg-white p-6 rounded-lg shadow-xl w-[32rem]"},Hs={class:"text-xl font-semibold mb-2"},Rs={class:"text-sm text-gray-600"},Os={class:"mt-4 space-y-3"},zs={class:"flex justify-between items-center"},Fs={class:"text-sm text-gray-600"},Ws={class:"font-medium"},qs={key:0,class:"text-center py-4 text-gray-500"},Gs={key:1,class:"flex justify-center gap-2 mt-4"},Js=["onClick"],ae=5,Ks={__name:"AttendanceManagement",setup(Qs){const le=Ze(),Me=ot(),q=u([]),G=u([]),J=u(!0),$e=u(null),Y=u(!1),K=u(!1),c=u(null),A=u(""),D=u(""),j=u(""),S=u(""),N=u(null),Q=u(!1),w=u(""),U=u("week"),H=u("asc"),re=u([]),ue=u([]),R=u(10);et(()=>{le.subscribe("/topic/activity-logs",we),C(),X(),De()}),tt(()=>{le.unsubscribe("/topic/activity-logs",we)});async function C(){try{const s=await f.get("/api/classes/today");q.value=s.data}catch(s){console.error(s),alert("오늘 수업 불러오기 실패")}}async function X(){try{const s=await f.get("/api/attendance/today");G.value=s.data}catch(s){console.error(s),alert("오늘 등원 목록 조회 실패")}}async function Ae(){try{await f.post("/api/classes/auto"),alert("오늘 수업이 자동 등록되었습니다."),C()}catch(s){console.error(s),alert("오늘 수업 자동 추가 중 오류가 발생했습니다.")}}async function ie(){try{const s=await f.get("/api/classes/makeup",{params:{range:U.value,order:H.value}});re.value=s.data}catch(s){console.error(s),alert("보강 이력 조회 중 오류가 발생했습니다.")}}async function De(){try{const s=await f.get("/api/students");ue.value=s.data}catch(s){console.error(s),alert("학생 목록 불러오기 실패")}}function je(s){const t=i(),[a,d]=s.startTime.split(":"),[m,v]=s.endTime.split(":"),y=i().hour(Number(a)).minute(Number(d)).second(0).subtract(30,"minute"),$=i().hour(Number(m)).minute(Number(v)).second(0).add(30,"minute");return t.isAfter(y)&&t.isBefore($)}function Se(s){const[t,a]=s.split(":");return i().hour(Number(t)).minute(Number(a)).second(0)}function P(s){const t=i();return Se(s.endTime).isBefore(t)}function Ne(s){const t=i(),[a,d]=s.endTime.split(":"),v=i().hour(parseInt(a)).minute(parseInt(d)).diff(t,"minute");if(v>=60){const y=Math.floor(v/60),$=v%60;return`${y}시간 ${$}분`}return`${v}분`}async function de(s,t){try{const[a,d]=s.endTime.split(":"),m=i().hour(parseInt(a)).minute(parseInt(d)).add(t,"minute").format("HH:mm");await f.patch(`/api/classes/${s.id}`,{endTime:m}),C(),$e.value=null}catch(a){console.error(a),alert("수업 시간 추가 중 오류가 발생했습니다.")}}function Pe(s){return P(s)?s.isMakeup?"보강완료":"수업완료":"수업중"}function Le(s){return P(s)?s.isMakeup?"text-purple-600":"text-green-600":"text-orange-500"}const Be=b(()=>(i(),q.value.filter(s=>{const t=!G.value.some(a=>a.studentId===s.student.id);return J.value?t:t&&je(s)}))),Ee=b(()=>q.value.filter(s=>G.value.some(t=>t.studentId===s.student.id)).sort((s,t)=>{const a=P(s),d=P(t);if(a!==d)return a?1:-1;if(!a&&!d){const m=i().diff(i().hour(s.endTime.split(":")[0]).minute(s.endTime.split(":")[1]),"minute"),v=i().diff(i().hour(t.endTime.split(":")[0]).minute(t.endTime.split(":")[1]),"minute");return Math.abs(m)-Math.abs(v)}return i(t.endTime).diff(i(s.endTime))}));function ce(s){c.value=s,Y.value=!0}function ve(){c.value=null,Y.value=!1}function Z(s){A.value=s,D.value="",j.value="",S.value="",Y.value=!1,K.value=!0}function me(){K.value=!1,A.value="",c.value=null,N.value=null}async function Ve(s){var t;try{const a=i(),d=new URLSearchParams;d.set("studentId",s.student.id),d.set("makeup",s.makeup),s.makeup&&d.set("makeupType",s.makeupType||"지각보강");const m=a.format("HH:mm");d.set("startTime",m),await f.post(`/api/attendance?${d.toString()}`);const v=ge(s),y=a.add(v,"minute").format("HH:mm");await f.patch(`/api/classes/${s.id}`,{startTime:m,endTime:y}),alert(`${s.student.name} 등원 기록이 등록되었습니다.`),ve(),C(),X()}catch(a){alert(((t=a.response)==null?void 0:t.data)||a.message)}}async function Ie(){var s;if(!D.value||!j.value||!S.value){alert("보강 날짜/시간을 모두 입력해주세요.");return}try{const t={student:c.value?{id:c.value.student.id}:N.value?{id:N.value}:null,startTime:j.value,endTime:S.value,classDate:D.value,makeup:!0,makeupType:A.value},a=await f.post("/api/classes",t);alert(`보강(${A.value}) 수업이 등록되었습니다. ID=${a.data.id}`),me(),C(),ie()}catch(t){alert(((s=t.response)==null?void 0:s.data)||t.message)}}Ce([U,H],()=>{ie()},{immediate:!0});function Ye(s){if(!s)return"";const t=i(`2000-01-01 ${s.startTime}`),d=i(`2000-01-01 ${s.endTime}`).diff(t,"minute");if(d>=60){const m=Math.floor(d/60),v=d%60;return`${m}시간 ${v>0?` ${v}분`:""}`}return`${d}분`}function ge(s){if(!s)return 0;const t=i(`2000-01-01 ${s.startTime}`);return i(`2000-01-01 ${s.endTime}`).diff(t,"minute")}const fe=b(()=>{if(!c.value||!w.value)return"";const s=ge(c.value);return i(`2000-01-01 ${w.value}`).add(s,"minute").format("HH:mm")});function Ue(s){c.value=s,w.value=s.startTime,Q.value=!0}function be(){Q.value=!1,c.value=null,w.value=""}async function He(){if(!w.value){alert("시작 시간을 입력해주세요.");return}try{await f.patch(`/api/classes/${c.value.id}`,{startTime:w.value,endTime:fe.value}),alert("수업 시간이 수정되었습니다."),be(),C()}catch(s){console.error(s),alert("수업 시간 수정 중 오류가 발생했습니다.")}}const ee=u(!1),te=u(""),L=u([]),se=u([]);async function pe(s){te.value=s.name;try{const t=i().startOf("month").format("YYYY-MM-DD"),a=i().endOf("month").format("YYYY-MM-DD"),d=await f.get("/api/classes/range",{params:{startDate:t,endDate:a}});L.value=d.data.filter(v=>v.student.id===s.id).sort((v,y)=>v.classDate.localeCompare(y.classDate));const m=await f.get(`/api/attendance/${s.id}`);se.value=m.data,ee.value=!0}catch(t){console.error("출결 내역 조회 실패:",t),alert("출결 내역을 불러오는데 실패했습니다.")}}function ye(s){const t=se.value.find(a=>a.attendanceDate===s.classDate);return s.classDate>i().format("YYYY-MM-DD")?"예정":t?"출석":"결석"}function Re(s){switch(ye(s)){case"예정":return"bg-gray-100 text-gray-600";case"출석":return"bg-green-100 text-green-600";case"결석":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}}function Oe(s){if(!s)return"";const t=new Date(s);return i(t).format("MM월 DD일")}const ze=b(()=>{const s=new Date;return`${s.getFullYear()}년 ${s.getMonth()+1}월`}),O=u(1),Fe=b(()=>{const s=(O.value-1)*ae;return L.value.slice(s,s+ae)}),xe=b(()=>Math.ceil(L.value.length/ae));function We(s){O.value=s}function qe(){ee.value=!1,te.value="",L.value=[],se.value=[],O.value=1}const B=u(""),M=u(5),z=u(1),F=u(1),ne=b(()=>Be.value.filter(s=>{var t,a;return(a=(t=s.student)==null?void 0:t.name)==null?void 0:a.toLowerCase().includes(B.value.toLowerCase())})),oe=b(()=>Ee.value.filter(s=>{var t,a;return(a=(t=s.student)==null?void 0:t.name)==null?void 0:a.toLowerCase().includes(B.value.toLowerCase())})),Ge=b(()=>{const s=(z.value-1)*M.value;return ne.value.slice(s,s+M.value)}),Je=b(()=>{const s=(F.value-1)*M.value;return oe.value.slice(s,s+M.value)}),he=b(()=>Math.ceil(ne.value.length/M.value)),_e=b(()=>Math.ceil(oe.value.length/M.value));function Ke(s){z.value=s}function Qe(s){F.value=s}Ce(B,()=>{z.value=1,F.value=1});async function we(s){s.type==="attendance"&&setTimeout(async function(){await Promise.all([C(),X()])},500)}return(s,t)=>(o(),st(nt,null,{default:Te(()=>[at(mt,null,{default:Te(()=>{var a,d,m,v,y,$,ke;return[e("div",null,[e("div",gt,[e("div",ft,[e("div",bt,[(o(),l("svg",pt,[e("path",{fill:"currentColor",d:T(lt)},null,8,yt)])),t[16]||(t[16]=e("h1",{class:"text-3xl font-bold text-gray-800"},"출결 관리",-1))])]),e("div",xt,[e("button",{onClick:Ae,class:"flex items-center px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg shadow-sm transition-colors duration-200"},[(o(),l("svg",ht,[e("path",{fill:"currentColor",d:T(rt)},null,8,_t)])),t[17]||(t[17]=E(" 오늘 수업 자동 추가 "))]),e("button",{onClick:t[0]||(t[0]=n=>ce(null)),class:"flex items-center px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg shadow-sm transition-colors duration-200"},[(o(),l("svg",wt,[e("path",{fill:"currentColor",d:T(ut)},null,8,kt)])),t[18]||(t[18]=E(" 보강 추가 "))]),e("button",{onClick:t[1]||(t[1]=n=>T(Me).push("/classes/calendar")),class:"flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-sm transition-colors duration-200"},[(o(),l("svg",Ct,[e("path",{fill:"currentColor",d:T(it)},null,8,Tt)])),t[19]||(t[19]=E(" 전체 수업 보기 "))])]),e("div",Mt,[e("div",$t,[e("div",At,[e("div",Dt,[e("div",jt,[(o(),l("svg",St,[e("path",{fill:"currentColor",d:T(dt)},null,8,Nt)])),t[20]||(t[20]=e("h2",{class:"text-xl font-semibold text-gray-800"},"출결 현황",-1))]),e("div",Pt,[e("div",Lt,[x(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=n=>B.value=n),placeholder:"학생 이름으로 검색...",class:"w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pl-10"},null,512),[[V,B.value]]),t[21]||(t[21]=e("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),e("label",Bt,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=n=>J.value=n),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},null,512),[[ct,J.value]]),t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"전체 표시",-1))])])])]),e("div",Et,[e("div",Vt,[e("div",null,[t[23]||(t[23]=e("h3",{class:"font-semibold mb-3 text-gray-700"},"등원",-1)),e("div",It,[(o(!0),l(_,null,h(Ge.value,n=>{var k;return o(),l("div",{key:n.id,class:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-500 transition-colors duration-200"},[e("div",Yt,[e("div",Ut,[e("div",null,[e("h3",Ht,[e("button",{onClick:p=>pe(n.student),class:"hover:text-blue-600"},r((k=n.student)==null?void 0:k.name),9,Rt)]),e("p",Ot," 수업ID: "+r(n.id),1)])]),e("button",{onClick:p=>ce(n),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200"}," + ",8,zt)])])}),128)),he.value>1?(o(),l("div",Ft,[(o(!0),l(_,null,h(he.value,n=>(o(),l("button",{key:n,onClick:k=>Ke(n),class:I(["px-3 py-1 rounded-lg",[z.value===n?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"]])},r(n),11,Wt))),128))])):g("",!0),ne.value.length===0?(o(),l("div",qt," 표시할 학생이 없습니다. ")):g("",!0)])]),e("div",null,[t[24]||(t[24]=e("h3",{class:"font-semibold mb-3 text-gray-700"},"하원",-1)),e("div",Gt,[(o(!0),l(_,null,h(Je.value,n=>{var k;return o(),l("div",{key:n.id,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",Jt,[e("div",Kt,[e("h3",Qt,[e("button",{onClick:p=>pe(n.student),class:"hover:text-blue-600"},r((k=n.student)==null?void 0:k.name)+" ("+r(n.startTime)+" ~ "+r(n.endTime)+") ",9,Xt)]),e("p",{class:I(["text-sm",Le(n)])},[E(r(Pe(n))+" ",1),P(n)?g("",!0):(o(),l("span",Zt," ("+r(Ne(n))+" 남음) ",1))],2)]),e("div",es,[e("div",ts,[e("button",{onClick:p=>de(n,-R.value),class:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded flex items-center justify-center"}," - ",8,ss),x(e("select",{"onUpdate:modelValue":t[4]||(t[4]=p=>R.value=p),class:"border rounded px-2 py-1 w-24 text-center appearance-none bg-white"},[(o(),l(_,null,h([10,20,30,40,50,60],p=>e("option",{key:p,value:p},r(p)+"분 ",9,ns)),64))],512),[[W,R.value]]),e("button",{onClick:p=>de(n,R.value),class:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded flex items-center justify-center"}," + ",8,os)]),e("button",{onClick:p=>Ue(n),class:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors duration-200"}," 시간 수정 ",8,as)])])])}),128)),_e.value>1?(o(),l("div",ls,[(o(!0),l(_,null,h(_e.value,n=>(o(),l("button",{key:n,onClick:k=>Qe(n),class:I(["px-3 py-1 rounded-lg",[F.value===n?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"]])},r(n),11,rs))),128))])):g("",!0),oe.value.length===0?(o(),l("div",us," 표시할 학생이 없습니다. ")):g("",!0)])])])])]),e("div",is,[e("div",ds,[e("div",cs,[(o(),l("svg",vs,[e("path",{fill:"currentColor",d:T(vt)},null,8,ms)])),t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-gray-800"},"보강 목록",-1))])]),e("div",gs,[e("div",fs,[x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>U.value=n),class:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[26]||(t[26]=[e("option",{value:"week"},"주간",-1),e("option",{value:"month"},"월간",-1)]),512),[[W,U.value]]),x(e("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>H.value=n),class:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[27]||(t[27]=[e("option",{value:"asc"},"오름차순",-1),e("option",{value:"desc"},"내림차순",-1)]),512),[[W,H.value]])]),e("div",bs,[(o(!0),l(_,null,h(re.value,n=>(o(),l("div",{key:n.id,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",ps,[e("div",null,[e("h3",ys,r(n.student.name),1),e("p",xs,r(n.classDate)+" ("+r(n.startTime)+" ~ "+r(n.endTime)+") ",1)]),e("span",hs,r(n.makeupType),1)])]))),128))])])])])])]),Y.value?(o(),l("div",_s,[e("div",ws,[e("h3",ks,r(c.value?"수업 처리":"보강 추가"),1),c.value?(o(),l("p",Cs,r((d=(a=c.value)==null?void 0:a.student)==null?void 0:d.name)+" 수업 처리 방법을 선택하세요. ",1)):g("",!0),e("div",Ts,[c.value?(o(),l("button",{key:0,onClick:t[7]||(t[7]=n=>Ve(c.value)),class:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200"}," 등원 기록 남기기 ")):g("",!0),e("button",{onClick:t[8]||(t[8]=n=>Z("결석보강")),class:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200"}," 결석보강 "),e("button",{onClick:t[9]||(t[9]=n=>Z("공결보강")),class:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200"}," 공결보강 "),e("button",{onClick:t[10]||(t[10]=n=>Z("지각보강")),class:"w-full py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200"}," 지각보강 ")]),e("button",{onClick:ve,class:"mt-4 w-full py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200"}," 닫기 ")])])):g("",!0),K.value?(o(),l("div",Ms,[e("div",$s,[e("h3",As," 보강 일정 등록 ("+r(A.value)+") ",1),c.value?(o(),l("div",Ds,r((v=(m=c.value)==null?void 0:m.student)==null?void 0:v.name)+" 학생 / 수업ID="+r((y=c.value)==null?void 0:y.id),1)):g("",!0),c.value?g("",!0):(o(),l("div",js,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"학생 선택:",-1)),x(e("select",{"onUpdate:modelValue":t[11]||(t[11]=n=>N.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[28]||(t[28]=e("option",{value:""},"학생을 선택하세요",-1)),(o(!0),l(_,null,h(ue.value,n=>(o(),l("option",{key:n.id,value:n.id},r(n.name),9,Ss))),128))],512),[[W,N.value]])])),e("div",Ns,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"보강 날짜:",-1)),x(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=n=>D.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[V,D.value]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"보강 시작시간:",-1)),x(e("input",{type:"time","onUpdate:modelValue":t[13]||(t[13]=n=>j.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[V,j.value]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"보강 종료시간:",-1)),x(e("input",{type:"time","onUpdate:modelValue":t[14]||(t[14]=n=>S.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[V,S.value]])])]),e("div",{class:"flex space-x-3 mt-6"},[e("button",{onClick:Ie,class:"flex-1 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200"}," 등록 "),e("button",{onClick:me,class:"flex-1 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200"}," 취소 ")])])])):g("",!0),Q.value?(o(),l("div",Ps,[e("div",Ls,[t[34]||(t[34]=e("h3",{class:"text-xl font-semibold mb-4"},"수업 시간 수정",-1)),e("p",Bs,r((ke=($=c.value)==null?void 0:$.student)==null?void 0:ke.name)+" 학생 ",1),e("div",Es,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"시작 시간:",-1)),x(e("input",{type:"time","onUpdate:modelValue":t[15]||(t[15]=n=>w.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[V,w.value]])]),e("div",Vs," 수업 시간: "+r(Ye(c.value)),1),e("div",Is," 종료 예정: "+r(fe.value),1)]),e("div",{class:"flex space-x-3 mt-6"},[e("button",{onClick:He,class:"flex-1 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200"}," 저장 "),e("button",{onClick:be,class:"flex-1 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200"}," 취소 ")])])])):g("",!0),ee.value?(o(),l("div",Ys,[e("div",Us,[e("h3",Hs,[E(r(te.value)+" 학생 출결 내역 ",1),e("span",Rs," ("+r(ze.value)+") ",1)]),e("div",Os,[(o(!0),l(_,null,h(Fe.value,n=>(o(),l("div",{key:n.id,class:"p-3 border rounded-lg"},[e("div",zs,[e("div",null,[e("div",Fs,r(Oe(n.classDate)),1),e("div",Ws,r(n.startTime)+" ~ "+r(n.endTime),1)]),e("div",null,[e("span",{class:I(["px-3 py-1 text-sm rounded-full",Re(n)])},r(ye(n)),3)])])]))),128)),L.value.length===0?(o(),l("div",qs," 이번 달 수업 기록이 없습니다. ")):g("",!0),xe.value>1?(o(),l("div",Gs,[(o(!0),l(_,null,h(xe.value,n=>(o(),l("button",{key:n,class:I(["px-3 py-1 rounded-lg",[O.value===n?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"]]),onClick:k=>We(n)},r(n),11,Js))),128))])):g("",!0)]),e("div",{class:"mt-6 flex justify-end"},[e("button",{onClick:qe,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200"}," 닫기 ")])])])):g("",!0)]}),_:1})]),_:1}))}},Zs=Xe(Ks,[["__scopeId","data-v-171228dd"]]);export{Zs as default};
