import{j as Ge,p as Je,r,k as Ke,q as Qe,s as p,v as i,x as ue,c as Xe,w as xe,L as Ze,y as et,o,a as tt,b as e,d as l,u as L,z as st,B as nt,C as W,D as ot,E as v,G as ye,H as F,n as b,t as u,F as f,I as P,J as g,K as me,M as q,N as lt,_ as at,O as h}from"./index-ca36a574.js";const rt={class:"max-w-7xl mx-auto space-y-6"},ut={class:"flex items-center justify-between"},dt={class:"flex items-center space-x-3"},it={class:"w-8 h-8 text-blue-600",viewBox:"0 0 24 24"},ct=["d"],vt={class:"flex space-x-4"},gt={class:"w-5 h-5 mr-2",viewBox:"0 0 24 24"},pt=["d"],bt={class:"space-y-6"},ft={class:"bg-white rounded-xl shadow-sm"},xt={class:"p-4 border-b border-gray-100"},yt={class:"flex items-center justify-between"},mt={class:"flex items-center space-x-2"},ht={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},_t=["d"],wt={class:"flex items-center space-x-4"},kt={class:"relative"},Ct={class:"flex items-center space-x-2 cursor-pointer"},At={class:"p-4"},$t={class:"grid grid-cols-2 gap-4"},Mt={class:"space-y-3"},St={class:"flex justify-between items-center h-full"},Tt={class:"flex flex-col justify-between h-full"},jt={class:"font-semibold text-gray-800"},It=["onClick"],Dt={class:"text-xs text-gray-500 mt-1"},Lt=["onClick"],Pt={key:0,class:"flex justify-center gap-2 mt-4"},Ut=["onClick"],Nt={key:1,class:"text-center py-4 text-gray-500"},Vt={class:"flex flex-wrap items-center justify-between mb-3 gap-2"},Yt={class:"flex flex-wrap items-center gap-4"},Bt={class:"flex items-center space-x-2 cursor-pointer"},Ot={class:"flex items-center space-x-2 cursor-pointer"},Rt={class:"flex items-center space-x-2 cursor-pointer"},zt={class:"space-y-3"},Et={class:"flex justify-between items-center h-full"},Ht={class:"flex flex-col justify-between h-full"},Wt={class:"font-semibold text-gray-800"},Ft=["onClick"],qt={class:"text-sm"},Gt={class:"ml-2 text-gray-500"},Jt={class:"flex items-center space-x-2"},Kt={class:"flex items-center space-x-2"},Qt=["onClick"],Xt=["value"],Zt=["onClick"],es=["onClick"],ts={class:"flex justify-between items-center h-full"},ss={class:"flex flex-col justify-between h-full"},ns={class:"font-semibold text-gray-800"},os=["onClick"],ls={class:"text-sm"},as={key:0,class:"ml-2 text-gray-500"},rs=["onClick"],us={key:0,class:"flex justify-center gap-2 mt-4"},ds=["onClick"],is={key:1,class:"text-center py-4 text-gray-500"},cs={class:"bg-white rounded-xl shadow-sm"},vs={class:"p-4 border-b border-gray-100"},gs={class:"flex items-center space-x-2"},ps={class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24"},bs=["d"],fs={class:"p-4"},xs={class:"flex space-x-4 mb-4"},ys={class:"space-y-3"},ms={class:"flex justify-between items-center"},hs={class:"font-semibold text-gray-800"},_s={class:"text-sm text-gray-600"},ws={class:"ml-2"},ks={class:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm"},Cs={key:0,class:"text-center py-4 text-gray-500"},As={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},$s={class:"bg-white p-6 rounded-lg shadow-xl w-96"},Ms={class:"text-gray-600 mb-4"},Ss={class:"space-y-3"},Ts={key:1,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},js={class:"bg-white p-6 rounded-lg shadow-xl w-96"},Is={class:"text-gray-600 mb-4"},Ds={class:"mb-4"},Ls={key:2,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},Ps={class:"bg-white p-6 rounded-lg shadow-xl w-96"},Us={class:"text-gray-600 mb-4"},Ns={class:"mb-4"},Vs={class:"flex space-x-3"},Ys={key:3,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},Bs={class:"bg-white p-6 rounded-lg shadow-xl w-[32rem]"},Os={class:"text-xl font-semibold mb-2"},Rs={class:"text-sm text-gray-600"},zs={class:"mt-4 space-y-3"},Es={class:"flex justify-between items-center"},Hs={class:"text-sm text-gray-600"},Ws={class:"ml-2"},Fs={key:0,class:"text-center py-4 text-gray-500"},qs={key:1,class:"flex justify-center gap-2 mt-4"},Gs=["onClick"],Js={__name:"AttendanceManagement",setup(Ks){const de=Je(),he=et(),G=r([]),J=r([]),K=r([]),Q=r([]),U=r(!0),k=r(""),N=r("week"),V=r("asc"),Y=r(!0),B=r(!0),C=r(!0),O=r(10),_=r(!1),X=r(!1),R=r(!1),c=r(null),Z=r("결석보강"),$=r(""),x=r(5),M=r(1),A=r(1),ee=r(!1),te=r(""),ie=r(null),S=r([]),T=r(1),se=r(5);let z=null;Ke(()=>{de.subscribe("/topic/activity-logs",fe),we(),w(),E(),H(),_e()}),Qe(()=>{de.unsubscribe("/topic/activity-logs",fe),z&&(clearInterval(z),z=null)});function _e(){const t=60-new Date().getSeconds();setTimeout(()=>{w(),z=setInterval(w,60*1e3)},t*1e3)}async function we(){try{const s=await p.get("/api/students");G.value=s.data,console.log(`${s.data.length}명의 학생 데이터 로드됨`)}catch(s){console.error("학생 목록 로드 실패:",s),alert("학생 목록 불러오기 실패")}}async function w(){try{const s=await p.get("/api/attendance/today");J.value=s.data,console.log(`오늘 등원한 학생 ${s.data.length}명`)}catch(s){console.error("오늘 등원 목록 조회 실패:",s),alert("오늘 등원 목록 조회 실패")}}async function E(){try{const s=await p.get("/api/absence/today");K.value=s.data,console.log(`오늘 결석한 학생 ${s.data.length}명`)}catch(s){console.error("오늘 결석 목록 조회 실패:",s),alert("오늘 결석 목록 조회 실패")}}async function H(){try{const s=await p.get("/api/attendance/makeup",{params:{range:N.value,order:V.value}});Q.value=s.data}catch(s){console.error("보강 이력 조회 실패:",s),alert("보강 이력 조회 중 오류가 발생했습니다.")}}async function ke(s){try{const t=h().startOf("month").format("YYYY-MM-DD"),a=h().endOf("month").format("YYYY-MM-DD");return(await p.get(`/api/attendance/student/${s}`,{params:{startDate:t,endDate:a}})).data}catch(t){return console.error("학생 출석 기록 조회 실패:",t),alert("출석 내역을 불러오는데 실패했습니다."),[]}}function j(s){return G.value.find(t=>t.id===s)||null}function I(s){const t=j(s);return t?t.name:`학생 #${s}`}function Ce(s){return J.value.some(t=>t.studentId===s.id)||K.value.some(t=>t.studentId===s.id)}function Ae(s){if(U.value){const t=h().format("ddd").toLowerCase();return s.daysOfWeek.includes(t)}return!0}function D(s){if(!s.endTime)return!1;const t=h(),a=h(`${h().format("YYYY-MM-DD")} ${s.endTime}`);return t.isAfter(a)}function ce(s){const t=D(s);return!!(t&&Y.value||!t&&B.value)}const $e=i(()=>{const s=ae.value.length,t=C.value?re.value.length:0;return s===0&&t===0});function Me(s){c.value=s,_.value=!0}function Se(){_.value=!1,c.value=null}function Te(){X.value=!1,_.value=!0}function je(){_.value=!1,$.value="",R.value=!0}function Ie(){R.value=!1,_.value=!0}async function ne(s,t){var a;try{const y=h(),m=new URLSearchParams;m.set("studentId",s.id),m.set("makeup",t.toString()),m.set("makeupType",Z.value);const n=y.format("HH:mm");m.set("startTime",n),await p.post(`/api/attendance?${m.toString()}`),alert(`${s.name} ${t?"보강":"일반"} 등원 기록이 등록되었습니다.`),_.value=!1,X.value=!1,c.value=null,w(),t&&H()}catch(y){alert(((a=y.response)==null?void 0:a.data)||y.message)}}async function De(){try{const s=new URLSearchParams;s.set("studentId",c.value.id),s.set("makeup","false"),s.set("reason",$.value),await p.post(`/api/absence?${s.toString()}`),alert(`${c.value.name} 학생의 결석이 등록되었습니다.`),R.value=!1,c.value=null,$.value="",E()}catch(s){console.error("결석 등록 실패:",s),alert("결석 등록 중 오류가 발생했습니다.")}}async function Le(s){const t=I(s.studentId);if(confirm(`${t} 학생의 결석 기록을 취소하시겠습니까?`))try{const a=new URLSearchParams;a.set("studentId",s.studentId),await p.delete(`/api/absence?${a.toString()}`),alert(`${t} 학생의 결석이 취소되었습니다.`),E()}catch(a){console.error(a),alert("결석 취소 중 오류가 발생했습니다.")}}async function Pe(s){const t=I(s.studentId);if(confirm(`${t} 학생의 등원 기록을 취소하시겠습니까?`))try{const a=new URLSearchParams;a.set("attendanceId",s.id),await p.delete(`/api/attendance?${a.toString()}`),alert(`${t} 학생의 등원이 취소되었습니다.`),w()}catch(a){console.error(a),alert("등원 취소 중 오류가 발생했습니다.")}}async function ve(s,t){try{await p.patch(`/api/attendance/${s.id}/endtime`,null,{params:{minutes:t}}),w()}catch(a){console.error("수업 시간 조정 실패:",a),alert("수업 시간 조정 중 오류가 발생했습니다.")}}async function oe(s){if(s){te.value=s.name,ie.value=s.id;try{S.value=await ke(s.id),T.value=1,ee.value=!0}catch(t){console.error("출결 내역 조회 실패:",t)}}}function Ue(){ee.value=!1,te.value="",ie.value=null,S.value=[],T.value=1}function Ne(s){if(!s)return"";const t=new Date(s),a=["일","월","화","수","목","금","토"];return`${t.getMonth()+1}월 ${t.getDate()}일 (${a[t.getDay()]})`}function Ve(s){if(!s)return"";const t=new Date(s);return h(t).format("MM월 DD일")}const Ye=i(()=>{const s=new Date;return`${s.getFullYear()}년 ${s.getMonth()+1}월`}),Be=i(()=>G.value.filter(s=>{const t=s.name.toLowerCase().includes(k.value.toLowerCase()),a=Ae(s);return t&&a})),le=i(()=>Be.value.filter(s=>!Ce(s))),Oe=i(()=>J.value.filter(s=>{const t=j(s.studentId);return t?t.name.toLowerCase().includes(k.value.toLowerCase()):!1})),ae=i(()=>Oe.value.filter(s=>ce(s))),re=i(()=>K.value.filter(s=>{const t=j(s.studentId);return t?t.name.toLowerCase().includes(k.value.toLowerCase()):!1})),Re=i(()=>{const s=(M.value-1)*x.value;return le.value.slice(s,s+x.value)}),ze=i(()=>{const s=(A.value-1)*x.value;return ae.value.slice(s,s+x.value)}),Ee=i(()=>{const s=(A.value-1)*x.value;return re.value.slice(s,s+x.value)}),He=i(()=>{const s=(T.value-1)*se.value;return S.value.slice(s,s+se.value)}),ge=i(()=>Math.ceil(le.value.length/x.value)||1),pe=i(()=>{const s=ae.value.length,t=C.value?re.value.length:0,a=s+t;return Math.ceil(a/x.value)||1}),be=i(()=>Math.ceil(S.value.length/se.value)||1);function We(s){M.value=s}function Fe(s){A.value=s}function qe(s){T.value=s}ue(k,()=>{M.value=1,A.value=1}),ue([U,Y,B,C],()=>{M.value=1,A.value=1}),ue([N,V],()=>{H()},{immediate:!0});async function fe(s){const t=s;(t.type==="attendance"||t.type==="absence")&&setTimeout(async function(){await Promise.all([w(),E(),H()])},500)}return(s,t)=>(o(),Xe(Ze,null,{default:xe(()=>[tt(at,null,{default:xe(()=>{var a,y,m;return[e("div",null,[e("div",rt,[e("div",ut,[e("div",dt,[(o(),l("svg",it,[e("path",{fill:"currentColor",d:L(st)},null,8,ct)])),t[14]||(t[14]=e("h1",{class:"text-3xl font-bold text-gray-800"},"출결 관리",-1))])]),e("div",vt,[e("button",{onClick:t[0]||(t[0]=n=>L(he).push("/classes/calendar")),class:"flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow-sm transition-colors duration-200"},[(o(),l("svg",gt,[e("path",{fill:"currentColor",d:L(nt)},null,8,pt)])),t[15]||(t[15]=W(" 전체 출결 보기 "))])]),e("div",bt,[e("div",ft,[e("div",xt,[e("div",yt,[e("div",mt,[(o(),l("svg",ht,[e("path",{fill:"currentColor",d:L(ot)},null,8,_t)])),t[16]||(t[16]=e("h2",{class:"text-xl font-semibold text-gray-800"},"출결 현황",-1))]),e("div",wt,[e("div",kt,[v(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=n=>k.value=n),placeholder:"학생 이름으로 검색...",class:"w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pl-10"},null,512),[[ye,k.value]]),t[17]||(t[17]=e("svg",{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),e("label",Ct,[v(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=n=>U.value=n),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},null,512),[[F,U.value]]),t[18]||(t[18]=e("span",{class:"text-sm text-gray-600"},"오늘 수업만 보기",-1))])])])]),e("div",At,[e("div",$t,[e("div",null,[t[19]||(t[19]=e("h3",{class:"font-semibold mb-3 text-gray-700"},"등원",-1)),e("div",Mt,[(o(!0),l(f,null,b(Re.value,n=>(o(),l("div",{key:n.id,class:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-500 transition-colors duration-200"},[e("div",St,[e("div",Tt,[e("div",null,[e("h3",jt,[e("button",{onClick:d=>oe(n),class:"hover:text-blue-600"},u(n.name),9,It)]),e("p",Dt," 학생ID: "+u(n.id),1)])]),e("button",{onClick:d=>Me(n),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200"}," + ",8,Lt)])]))),128)),ge.value>1?(o(),l("div",Pt,[(o(!0),l(f,null,b(ge.value,n=>(o(),l("button",{key:n,onClick:d=>We(n),class:P(["px-3 py-1 rounded-lg",[M.value===n?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"]])},u(n),11,Ut))),128))])):g("",!0),le.value.length===0?(o(),l("div",Nt," 표시할 학생이 없습니다. ")):g("",!0)])]),e("div",null,[e("div",Vt,[t[23]||(t[23]=e("h3",{class:"font-semibold text-gray-700"},"하원",-1)),e("div",Yt,[e("label",Bt,[v(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=n=>Y.value=n),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},null,512),[[F,Y.value]]),t[20]||(t[20]=e("span",{class:"text-sm text-gray-600"},"종료된 수업 보기",-1))]),e("label",Ot,[v(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=n=>B.value=n),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},null,512),[[F,B.value]]),t[21]||(t[21]=e("span",{class:"text-sm text-gray-600"},"수업중인 수업 보기",-1))]),e("label",Rt,[v(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=n=>C.value=n),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"},null,512),[[F,C.value]]),t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"결석 보기",-1))])])]),e("div",zt,[(o(!0),l(f,null,b(ze.value,n=>v((o(),l("div",{key:n.id,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",Et,[e("div",Ht,[e("h3",Wt,[e("button",{onClick:d=>oe(j(n.studentId)),class:"hover:text-blue-600"},u(I(n.studentId)),9,Ft)]),e("p",qt,[e("span",{class:P({"text-red-600":D(n),"text-purple-600":n.makeup,"text-green-600":!n.makeup&&!D(n),"text-gray-600":!n.makeup&&D(n)})},u(D(n)?"종료된":n.makeup?"보강":"일반")+" 수업 ",3),e("span",Gt,u(n.startTime)+" ~ "+u(n.endTime),1)])]),e("div",Jt,[e("div",Kt,[e("button",{onClick:d=>ve(n,-O.value),class:"bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded flex items-center justify-center"}," - ",8,Qt),v(e("select",{"onUpdate:modelValue":t[6]||(t[6]=d=>O.value=d),class:"border rounded px-2 py-1 w-24 text-center appearance-none bg-white"},[(o(),l(f,null,b([10,20,30,40,50,60],d=>e("option",{key:d,value:d},u(d)+"분 ",9,Xt)),64))],512),[[q,O.value]]),e("button",{onClick:d=>ve(n,O.value),class:"bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded flex items-center justify-center"}," + ",8,Zt)]),e("button",{onClick:d=>Pe(n),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors duration-200"}," 취소 ",8,es)])])])),[[me,ce(n)]])),128)),(o(!0),l(f,null,b(Ee.value,n=>v((o(),l("div",{key:`absence-${n.studentId}`,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",ts,[e("div",ss,[e("h3",ns,[e("button",{onClick:d=>oe(j(n.studentId)),class:"hover:text-blue-600"},u(I(n.studentId)),9,os)]),e("p",ls,[t[24]||(t[24]=e("span",{class:"text-red-600"},"결석",-1)),n.reason?(o(),l("span",as," 사유: "+u(n.reason),1)):g("",!0)])]),e("button",{onClick:d=>Le(n),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors duration-200"}," 취소 ",8,rs)])])),[[me,C.value]])),128)),pe.value>1?(o(),l("div",us,[(o(!0),l(f,null,b(pe.value,n=>(o(),l("button",{key:n,onClick:d=>Fe(n),class:P(["px-3 py-1 rounded-lg",[A.value===n?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"]])},u(n),11,ds))),128))])):g("",!0),$e.value?(o(),l("div",is," 표시할 학생이 없습니다. ")):g("",!0)])])])])]),e("div",cs,[e("div",vs,[e("div",gs,[(o(),l("svg",ps,[e("path",{fill:"currentColor",d:L(lt)},null,8,bs)])),t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-gray-800"},"보강 출석 내역",-1))])]),e("div",fs,[e("div",xs,[v(e("select",{"onUpdate:modelValue":t[7]||(t[7]=n=>N.value=n),class:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[26]||(t[26]=[e("option",{value:"week"},"주간",-1),e("option",{value:"month"},"월간",-1)]),512),[[q,N.value]]),v(e("select",{"onUpdate:modelValue":t[8]||(t[8]=n=>V.value=n),class:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[27]||(t[27]=[e("option",{value:"asc"},"오름차순",-1),e("option",{value:"desc"},"내림차순",-1)]),512),[[q,V.value]])]),e("div",ys,[(o(!0),l(f,null,b(Q.value,n=>(o(),l("div",{key:n.id,class:"p-4 bg-gray-50 rounded-lg border border-gray-200"},[e("div",ms,[e("div",null,[e("h3",hs,u(I(n.studentId)),1),e("p",_s,[W(u(Ne(n.attendanceDate))+" ",1),e("span",ws,u(n.startTime||"시간 정보 없음")+" ~ "+u(n.endTime||"시간 정보 없음"),1)])]),e("span",ks,u(n.makeupType||"결석보강"),1)])]))),128)),Q.value.length===0?(o(),l("div",Cs," 표시할 보강 기록이 없습니다. ")):g("",!0)])])])])])]),_.value?(o(),l("div",As,[e("div",$s,[t[28]||(t[28]=e("h3",{class:"text-xl font-semibold mb-4"}," 등원 유형 선택 ",-1)),e("p",Ms,u((a=c.value)==null?void 0:a.name)+" 학생의 등원 유형을 선택하세요. ",1),e("div",Ss,[e("button",{onClick:t[9]||(t[9]=n=>ne(c.value,!1)),class:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200"}," 일반 등원 "),e("button",{onClick:t[10]||(t[10]=n=>ne(c.value,!0)),class:"w-full py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors duration-200"}," 보강 등원 "),e("button",{onClick:je,class:"w-full py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200"}," 결석 ")]),e("button",{onClick:Se,class:"mt-4 w-full py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200"}," 취소 ")])])):g("",!0),R.value?(o(),l("div",Ts,[e("div",js,[t[30]||(t[30]=e("h3",{class:"text-xl font-semibold mb-4"}," 결석 사유 입력 ",-1)),e("p",Is,u((y=c.value)==null?void 0:y.name)+" 학생의 결석 사유를 입력하세요. ",1),e("div",Ds,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"결석 사유:",-1)),v(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=n=>$.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"결석 사유를 입력하세요 (선택사항)"},null,512),[[ye,$.value]])]),e("div",{class:"flex space-x-3"},[e("button",{onClick:De,class:"flex-1 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200"}," 결석 등록 "),e("button",{onClick:Ie,class:"flex-1 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200"}," 취소 ")])])])):g("",!0),X.value?(o(),l("div",Ls,[e("div",Ps,[t[33]||(t[33]=e("h3",{class:"text-xl font-semibold mb-4"}," 보강 유형 입력 ",-1)),e("p",Us,u((m=c.value)==null?void 0:m.name)+" 학생의 보강 유형을 입력하세요. ",1),e("div",Ns,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"보강 유형:",-1)),v(e("select",{"onUpdate:modelValue":t[12]||(t[12]=n=>Z.value=n),class:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[31]||(t[31]=[e("option",{value:"결석보강"},"결석보강",-1),e("option",{value:"지각보강"},"지각보강",-1),e("option",{value:"특별보강"},"특별보강",-1),e("option",{value:"수준별보강"},"수준별보강",-1)]),512),[[q,Z.value]])]),e("div",Vs,[e("button",{onClick:t[13]||(t[13]=n=>ne(c.value,!0)),class:"flex-1 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors duration-200"}," 등록 "),e("button",{onClick:Te,class:"flex-1 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200"}," 취소 ")])])])):g("",!0),ee.value?(o(),l("div",Ys,[e("div",Bs,[e("h3",Os,[W(u(te.value)+" 학생 출결 내역 ",1),e("span",Rs," ("+u(Ye.value)+") ",1)]),e("div",zs,[(o(!0),l(f,null,b(He.value,n=>(o(),l("div",{key:n.id,class:"p-3 border rounded-lg"},[e("div",Es,[e("div",null,[e("div",Hs,[W(u(Ve(n.attendanceDate))+" ",1),e("span",Ws,u(n.startTime||"시간 정보 없음")+" ~ "+u(n.endTime||"시간 정보 없음"),1)])]),e("div",null,[e("span",{class:P(["px-3 py-1 text-sm rounded-full",n.makeup?"bg-purple-100 text-purple-600":"bg-green-100 text-green-600"])},u(n.makeup?"보강":"출석"),3)])])]))),128)),S.value.length===0?(o(),l("div",Fs," 이번 달 출석 기록이 없습니다. ")):g("",!0),be.value>1?(o(),l("div",qs,[(o(!0),l(f,null,b(be.value,n=>(o(),l("button",{key:n,class:P(["px-3 py-1 rounded-lg",[T.value===n?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"]]),onClick:d=>qe(n)},u(n),11,Gs))),128))])):g("",!0)]),e("div",{class:"mt-6 flex justify-end"},[e("button",{onClick:Ue,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors duration-200"}," 닫기 ")])])])):g("",!0)]}),_:1})]),_:1}))}},Xs=Ge(Js,[["__scopeId","data-v-e043df01"]]);export{Xs as default};
