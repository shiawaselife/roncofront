import{r as i,k as C,c as V,w as u,L as j,s as p,o as r,a as x,b as t,d as a,u as v,a5 as F,W as B,C as D,n as y,t as n,a9 as S,F as w,Q as L,E as c,K as M,G as g,_ as R}from"./index-5d7e744c.js";import{_ as $}from"./Modal-383eba00.js";const z={class:"max-w-7xl mx-auto p-6 space-y-8"},U={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 flex justify-between items-center shadow-sm"},I={class:"flex items-center space-x-3"},N={class:"w-8 h-8 text-blue-600",viewBox:"0 0 24 24"},E=["d"],H={class:"w-5 h-5 mr-2",viewBox:"0 0 24 24"},K=["d"],P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"p-6 border-b border-gray-100"},A={class:"flex justify-between items-start"},G={class:"text-lg font-semibold text-gray-800"},O={class:"text-sm text-gray-600 mt-1"},Q={class:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full"},W={class:"p-6"},q={class:"space-y-4"},J={class:"flex justify-between items-center mb-2"},X={class:"text-sm font-medium text-blue-600"},Y={class:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},Z={class:"text-gray-600 text-sm leading-relaxed"},tt={class:"space-y-2"},et=["value"],st={class:"space-y-2"},ot={class:"space-y-2"},lt={class:"space-y-2"},rt={class:"flex justify-end space-x-3 pt-4"},it={__name:"LearningReports",setup(at){const d=i(!1),m=i([]),b=i([]),l=i({studentId:"",subject:"",progress:0,content:""}),h=o=>new Date(o).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}),_=async()=>{try{await p.post("/api/learning-reports",l.value),d.value=!1,f()}catch(o){console.error("Failed to create report:",o)}},f=async()=>{try{const o=await p.get("/api/learning-reports");b.value=o.data}catch(o){console.error("Failed to load reports:",o)}},k=async()=>{try{const o=await p.get("/api/students");m.value=o.data}catch(o){console.error("Failed to load students:",o)}};return C(async()=>{try{await Promise.all([k(),f()])}catch(o){console.error("Failed to load initial data:",o)}}),(o,e)=>(r(),V(j,null,{default:u(()=>[x(R,null,{default:u(()=>[t("div",z,[t("div",U,[t("div",I,[(r(),a("svg",N,[t("path",{fill:"currentColor",d:v(F)},null,8,E)])),e[7]||(e[7]=t("h1",{class:"text-2xl font-bold text-gray-800"},"학습 보고서",-1))]),t("button",{onClick:e[0]||(e[0]=s=>d.value=!0),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150 shadow-sm"},[(r(),a("svg",H,[t("path",{fill:"currentColor",d:v(B)},null,8,K)])),e[8]||(e[8]=D(" 새 보고서 작성 "))])]),t("div",P,[(r(!0),a(w,null,y(b.value,s=>(r(),a("div",{key:s.id,class:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden"},[t("div",T,[t("div",A,[t("div",null,[t("h3",G,n(s.student.name),1),t("p",O,n(s.subject),1)]),t("span",Q,n(h(s.reportDate)),1)])]),t("div",W,[t("div",q,[t("div",null,[t("div",J,[e[9]||(e[9]=t("span",{class:"text-sm font-medium text-gray-700"},"진도율",-1)),t("span",X,n(s.progress)+"%",1)]),t("div",Y,[t("div",{class:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:S({width:s.progress+"%"})},null,4)])]),t("p",Z,n(s.content),1)])])]))),128))]),x($,{show:d.value,onClose:e[6]||(e[6]=s=>d.value=!1)},{title:u(()=>e[10]||(e[10]=[t("div",{class:"flex items-center space-x-2"},[t("svg",{class:"w-6 h-6 text-blue-600",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"})]),t("span",null,"새 학습 보고서 작성")],-1)])),content:u(()=>[t("form",{onSubmit:L(_,["prevent"]),class:"space-y-6"},[t("div",tt,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"학생",-1)),c(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.studentId=s),class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"},[e[11]||(e[11]=t("option",{value:""},"학생을 선택하세요",-1)),(r(!0),a(w,null,y(m.value,s=>(r(),a("option",{key:s.id,value:s.id},n(s.name),9,et))),128))],512),[[M,l.value.studentId]])]),t("div",st,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"과목",-1)),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.subject=s),type:"text",class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"과목명을 입력하세요"},null,512),[[g,l.value.subject]])]),t("div",ot,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700"},"진도율 (%)",-1)),c(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.progress=s),type:"number",min:"0",max:"100",class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"},null,512),[[g,l.value.progress]])]),t("div",lt,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},"내용",-1)),c(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.content=s),rows:"4",class:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"학습 내용을 입력하세요"},null,512),[[g,l.value.content]])]),t("div",rt,[t("button",{type:"button",onClick:e[5]||(e[5]=s=>d.value=!1),class:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-150"}," 취소 "),e[16]||(e[16]=t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-150"}," 저장 ",-1))])],32)]),_:1},8,["show"])])]),_:1})]),_:1}))}};export{it as default};
