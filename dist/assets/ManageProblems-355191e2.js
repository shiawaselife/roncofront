import{r as n,n as z,c as S,w as j,_ as q,x as b,o as r,a as L,b as e,D as c,d,p as I,t as m,F as N,R as P,I as f,O as x,L as D,j as F}from"./index-bd052fb4.js";const O={class:"container mx-auto px-4 py-8"},T={class:"mb-6 flex justify-between items-center"},E=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"문제 관리"),e("p",{class:"mt-1 text-sm text-gray-500"},"프로그래밍 문제를 관리합니다")],-1),H=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),R={class:"bg-white shadow-md rounded-lg overflow-hidden"},A={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200"},J=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"카테고리"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"제목"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"관리")])],-1),K={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},Y={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ee=["onClick"],te=["onClick"],se={key:0,class:"fixed inset-0 z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},oe={class:"fixed inset-0 z-50 overflow-y-auto"},le={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},ae={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-3xl"},ie={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ne={class:"sm:flex sm:items-start"},re={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},de={class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},ce={class:"mt-4"},ue=["onSubmit"],me={class:"grid md:grid-cols-2 gap-6"},fe={class:"space-y-2"},xe=e("label",{for:"categoryId",class:"block text-sm font-medium text-gray-700"},[c(" 카테고리 ID "),e("span",{class:"text-red-500"},"*")],-1),pe={class:"space-y-2"},ge=e("label",{for:"categoryName",class:"block text-sm font-medium text-gray-700"},[c(" 카테고리 이름 "),e("span",{class:"text-red-500"},"*")],-1),be={class:"space-y-2"},ve=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"},[c(" 제목 "),e("span",{class:"text-red-500"},"*")],-1),ye={class:"space-y-2"},he=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},[c(" 설명 "),e("span",{class:"text-red-500"},"*")],-1),_e={class:"space-y-4"},we=e("label",{class:"block text-sm font-medium text-gray-700"},[c(" 지시사항 "),e("span",{class:"text-red-500"},"*")],-1),ke={class:"space-y-3"},Ce=["onUpdate:modelValue","placeholder"],je=["onClick","disabled"],Ie={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},Ne=["disabled"],De={key:1,class:"fixed inset-0 z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},$e={class:"fixed inset-0 z-50 overflow-y-auto"},Ve={class:"flex min-h-full items-center justify-center p-4 text-center sm:p-0"},Me={class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:max-w-lg sm:w-full"},Be=e("div",{class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},[e("div",{class:"sm:flex sm:items-start"},[e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},"문제 삭제"),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," 이 문제를 정말 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다. ")])])])],-1),Ue={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},qe={__name:"ManageProblems",setup(ze){const w=n([]),v=n(!1),p=n(!1),u=n(!1),a=n(null),g=n(null),y={categoryId:"",categoryName:"",title:"",description:"",instructions:[""]},s=n({...y}),h=async()=>{try{const t=await b.get("/api/problems");w.value=t.data}catch(t){console.error("문제 목록 로딩 중 오류 발생:",t)}},k=(t=null)=>{var o;t?(a.value=t,s.value={categoryId:t.categoryId,categoryName:t.categoryName,title:t.title,description:t.description,instructions:(o=t.instructions)!=null&&o.length?t.instructions:[""]}):(a.value=null,s.value={...y}),v.value=!0},_=()=>{v.value=!1,a.value=null,s.value={...y}},$=()=>{s.value.instructions.push("")},V=t=>{s.value.instructions.length>1&&(s.value.instructions=s.value.instructions.filter((o,l)=>l!==t))},M=async()=>{try{p.value=!0;const t={...s.value,instructions:s.value.instructions.filter(o=>o.trim()!=="")};a.value?await b.put(`/api/problems/${a.value.id}`,t):await b.post("/api/problems",t),await h(),_()}catch(t){console.error("문제 저장 중 오류 발생:",t)}finally{p.value=!1}},B=t=>{g.value=t,u.value=!0},U=async()=>{if(g.value)try{await b.delete(`/api/problems/${g.value.id}`),await h(),u.value=!1,g.value=null}catch(t){console.error("문제 삭제 중 오류 발생:",t)}};return z(()=>{h()}),(t,o)=>(r(),S(q,null,{default:j(()=>[L(F,null,{default:j(()=>[e("div",O,[e("div",T,[E,e("button",{onClick:o[0]||(o[0]=l=>k()),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"},[H,c(" 새 문제 만들기 ")])]),e("div",R,[e("div",A,[e("table",G,[J,e("tbody",K,[(r(!0),d(N,null,I(w.value,l=>(r(),d("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",Q,m(l.id),1),e("td",W,[e("span",X,m(l.categoryName),1)]),e("td",Y,m(l.title),1),e("td",Z,[e("button",{onClick:i=>k(l),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," 수정 ",8,ee),e("button",{onClick:i=>B(l),class:"text-red-600 hover:text-red-900"}," 삭제 ",8,te)])]))),128))])])])]),v.value?(r(),d("div",se,[e("div",{class:"fixed inset-0 bg-black bg-opacity-70 transition-opacity",onClick:_}),e("div",oe,[e("div",le,[e("div",ae,[e("div",ie,[e("div",ne,[e("div",re,[e("h3",de,m(a.value?"문제 수정":"새 문제 만들기"),1),e("div",ce,[e("form",{onSubmit:P(M,["prevent"]),class:"space-y-6"},[e("div",me,[e("div",fe,[xe,f(e("input",{id:"categoryId","onUpdate:modelValue":o[1]||(o[1]=l=>s.value.categoryId=l),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[x,s.value.categoryId]])]),e("div",pe,[ge,f(e("input",{id:"categoryName","onUpdate:modelValue":o[2]||(o[2]=l=>s.value.categoryName=l),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[x,s.value.categoryName]])])]),e("div",be,[ve,f(e("input",{id:"title","onUpdate:modelValue":o[3]||(o[3]=l=>s.value.title=l),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[x,s.value.title]])]),e("div",ye,[he,f(e("textarea",{id:"description","onUpdate:modelValue":o[4]||(o[4]=l=>s.value.description=l),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[x,s.value.description]])]),e("div",_e,[e("div",{class:"flex justify-between items-center"},[we,e("button",{type:"button",onClick:$,class:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700"}," 추가 ")]),e("div",ke,[(r(!0),d(N,null,I(s.value.instructions,(l,i)=>(r(),d("div",{key:i,class:"flex gap-2"},[f(e("input",{"onUpdate:modelValue":C=>s.value.instructions[i]=C,type:"text",class:"flex-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`지시사항 ${i+1}`},null,8,Ce),[[x,s.value.instructions[i]]]),e("button",{type:"button",onClick:C=>V(i),class:"px-2 py-2 text-red-600 hover:text-red-700",disabled:s.value.instructions.length===1}," 삭제 ",8,je)]))),128))])]),e("div",Ie,[e("button",{type:"submit",disabled:p.value,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"},m(p.value?"처리 중...":a.value?"수정하기":"만들기"),9,Ne),e("button",{type:"button",onClick:_,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm"}," 취소 ")])],40,ue)])])])])])])])])):D("",!0),u.value?(r(),d("div",De,[e("div",{class:"fixed inset-0 bg-black bg-opacity-70 transition-opacity",onClick:o[5]||(o[5]=l=>u.value=!1)}),e("div",$e,[e("div",Ve,[e("div",Me,[Be,e("div",Ue,[e("button",{type:"button",onClick:U,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," 삭제 "),e("button",{type:"button",onClick:o[6]||(o[6]=l=>u.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm"}," 취소 ")])])])])])):D("",!0)])]),_:1})]),_:1}))}};export{qe as default};
